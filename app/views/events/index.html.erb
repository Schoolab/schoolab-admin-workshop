<h2>Événements</h2>

<table class="table datatable" data-paging="false" data-info="false">
  <thead>
    <tr>
      <th>Date</th>
      <th>Heure</th>
      <th>Titre</th>
      <th>Lieu</th>
      <th>Prix</th>
      <% if can? :manage, Event %>
      <th data-orderable="false"></th>
      <th data-orderable="false"></th>
      <% end %>
    </tr>
  </thead>

  <tbody>
    <% @events.each do |event| %>
      <tr>
        <td><%= event.date.strftime('%d %b %Y') %></td>
        <td><%= event.start_time.strftime('%kh%M') %>-<%= event.end_time.strftime('%kh%M') %></td>
        <td><strong><%= event.title %></strong></td>
        <td><%= event.location %></td>
        <td><%= event.full_price %></td>
      <% if can? :manage, Event %>
        <td><%= link_to 'Modifier', edit_event_path(event) %></td>
        <td><%= link_to 'Supprimer', event, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<hr>

<div style="opacity: .6">

<h3>Événements passés</h3>

<table class="table datatable" data-paging="false" data-info="false">
  <thead>
    <tr>
      <th>Date</th>
      <th>Heure</th>
      <th>Titre</th>
      <th>Lieu</th>
      <th>Prix</th>
      <% if can? :manage, Event %>
      <th data-orderable="false"></th>
      <th data-orderable="false"></th>
      <% end %>
    </tr>
  </thead>

  <tbody>
    <% @past_events.each do |event| %>
      <tr>
        <td><%= event.date.strftime('%d %b %Y') %></td>
        <td><%= event.start_time.strftime('%kh%M') %>-<%= event.end_time.strftime('%kh%M') %></td>
        <td><strong><%= event.title %></strong></td>
        <td><%= event.location %></td>
        <td><%= event.full_price %></td>
      <% if can? :manage, Event %>
        <td><%= link_to 'Modifier', edit_event_path(event) %></td>
        <td><%= link_to 'Supprimer', event, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

</div>
